<script type="text/javascript-lazy">
    var app = angular.module('ctw');
    app.controllerProvider.register('toolController', function ($scope, $rootScope) {
        $rootScope.title = document.getElementsByTagName('h1')[0].innerHTML;

        $scope.result = 0;
        $scope.error = undefined;

        $scope.calculate = function () {

            if (validate($scope.first, $scope.second)) {
                $scope.error = undefined;

                //Do calculations
                $scope.result = $scope.first * $scope.second;

            } else {
                $scope.error = "Wrong or missing input.";
            }

            console.log("Result: " + $scope.first);
        };

        $scope.reset = function () {
            $scope.result = 0;
            $scope.error = undefined;
            $scope.first = undefined;
            $scope.second = undefined;
        }

        var validate = function (first, second) {
            first = parseFloat(first);
            second = parseFloat(first);
            return angular.isNumber(first) && isFinite(first)
                    && angular.isNumber(second) && isFinite(second);
        };
    });
</script>

<h1>Multiplier</h1>
<div ng-controller="toolController">
    <form class="pure-form pure-form-aligned" novalidate>
        <fieldset>
            <legend>Input the two Factors you want to calculate.</legend>
            <div class="pure-control-group">
                <label for="first">First Factor:</label>
                <input id="first" type="number" step="any" placeholder="First Factor" ng-model="first">
            </div>
            <div class="pure-control-group">
                <label for="first">Second Factor:</label>
                <input id="second" type="number" step="any" placeholder="Second Factor" ng-model="second">
            </div>
            <div class="pure-control-group">
                <label for="result">Result: </label>
                <span id="result">{{result}}</span>
            </div>
            <div class="pure-controls">
                <button class="pure-button pure-button-primary" ng-click="calculate()">Calculate
                </button>
                <button class="pure-button" ng-click="reset()" type="reset">Clear
                </button>
            </div>
        </fieldset>

        <div class="alert" ng-show="error !== undefined">
            <div class="alert_inner">
                <div class="alert_text">{{error}}</div>
                <div class="alert_dismiss" ng-click="error = undefined">&times;</div>
            </div>
        </div>
    </form>
</div>
<hr/>
<div class="pure-g">
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>How do I use this multiplication calculator?</h4>
        <p>
            Enter two factors and click calculate to multiply the two numbers.<br/>
            Click clear to clear the two input fields.
        </p>
    </div>
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>About this calculator</h4>
        <p>
            With this multiplier (or multiplication calculator) you can calculate integers and decimals, positive and negative.
        </p>
    </div>
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>About multiplication</h4>
        <p>
            To learn more about multiplication, head over to <a href="https://en.wikipedia.org/wiki/Multiplication">Wikipedia</a>.
        </p>
    </div>
</div>

