<script type="text/javascript-lazy">
    var app = angular.module('ctw');

    app.controllerProvider.register('toolController', function ($scope) {
        $scope.result = 0;
        $scope.error = '';

        $scope.calculate = function () {
            //Bei API calls kommt die gesamte response vom Server!
            if (validate($scope.first, $scope.second)) {
                $scope.error = "";
                var result;

                //Do calculations
                $scope.result = $scope.first * $scope.second;

            } else {
                $scope.error = "Wrong or missing input.";
            }

            console.log("Result: " + $scope.first);
        };

        var validate = function (first, second) {
            //Do Input validations
            return $scope.first !== undefined && $scope.second !== undefined
                    && $scope.first !== null && $scope.second !== null;
        };
    });
</script>

<h3>Fraction Calculator</h3>
<form class="pure-form pure-form-aligned" ng-controller="toolController">
    <fieldset>
        <legend>Input the two Factors you want to calculate.</legend>
        <div class="pure-control-group">
            <label for="first">First Factor</label>
            <input id="first" type="number" placeholder="First Factor" ng-model="first">
        </div>
        <div class="pure-control-group">
            <label for="first">Second Factor</label>
            <input id="second" type="number" placeholder="Second Factor" ng-model="second">
        </div>
        <div class="pure-control-group">
            <label for="result"> Result </label>
            <span id="result">{{result}}</span>
        </div>
        <div class="pure-controls">
            <button class="pure-button pure-button-primary" ng-click="calculate()">Calculate
            </button>
        </div>
    </fieldset>

    <div class="alert" ng-show="error !== ''">
        <div class="alert_inner">
            <div class="alert_text">{{error}}</div>
            <div class="alert_dismiss" ng-click="error = ''">&times;</div>
        </div>
    </div>
</form>

<div class="pure-g">
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>Lorem Ipsum</h4>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.
        </p>
    </div>
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>Lorem Ipsum</h4>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.
        </p>
    </div>
    <div class="pure-u-1 pure-u-md-1-3 text">
        <h4>Lorem Ipsum</h4>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.
        </p>
    </div>
</div>

